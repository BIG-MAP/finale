{
  "title": "Formulation",
  "description": "A Formulation is a ratio mix of different compounds\n\nExample:\nA = Compound(chemicals=[Chemical(smiles='COC(=O)OC',name='DMC',reference='DMC_ELyte_2020'),\n                              Chemical(smiles='[Li+].F[P-](F)(F)(F)(F)F',name='LiPF6',reference='LiPF6_Elyte_2020')],\n                   amounts=[Amount(value=0.5,unit='mol'),Amount(value=0.1,unit='mol')],\n                   name='LiPF6_salt_in_DMC_5:1')\nB = Compound(chemicals=[Chemical(smiles='CC1COC(=O)O1',name='PC',reference='PC_ELyte_2020'),\n                              Chemical(smiles='[Li+].F[P-](F)(F)(F)(F)F',name='LiPF6',reference='LiPF6_Elyte_2020')],\n                   amounts=[Amount(value=0.5,unit='mol'),Amount(value=0.1,unit='mol')],\n                   name='LiPF6_salt_in_PC_5:1')\nform_1 = Formulation(compounds=[A,B],ratio=[3,1],ratio_method='volumetric')",
  "type": "object",
  "properties": {
    "compounds": {
      "title": "Compounds",
      "type": "array",
      "items": {
        "$ref": "#/definitions/Compound"
      }
    },
    "ratio": {
      "title": "Ratio",
      "type": "array",
      "items": {
        "type": "number"
      }
    },
    "ratio_method": {
      "title": "Ratio Method",
      "type": "string"
    }
  },
  "required": [
    "compounds",
    "ratio",
    "ratio_method"
  ],
  "definitions": {
    "Chemical": {
      "title": "Chemical",
      "description": "This defines a chemical\n\nEvery chemical needs a SMILES and a name like DMC => COC(=O)OC\nA reference is an optional thing like \"Vile 211003-Vial2-DMC\"\nExample:\n    Chemical(smiles='COC(=O)OC',name='DMC',reference='DMC_Elyte_2020')",
      "type": "object",
      "properties": {
        "smiles": {
          "title": "Smiles",
          "type": "string"
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "reference": {
          "title": "Reference",
          "default": "",
          "type": "string"
        }
      },
      "required": [
        "smiles",
        "name"
      ]
    },
    "Amount": {
      "title": "Amount",
      "description": "We store amount in units of mole TODO: Maybe recalc to mol?\n\nAmount is stored as a tuple like object i.e. how much and of what unit\nCurrently we only do mol\nExample: Amount(value=0.001,unit='mol')",
      "type": "object",
      "properties": {
        "value": {
          "title": "Value",
          "type": "number"
        },
        "unit": {
          "title": "Unit",
          "type": "string"
        }
      },
      "required": [
        "value",
        "unit"
      ]
    },
    "Compound": {
      "title": "Compound",
      "description": "Formulations are lists of Compound which are lists of chemicals\n\nA Compound can be made up of one or more chemicals of amounts\nThis is needed as some electrolyte chemicals are not liquid in their pure form at RT\nExample:\n    Compound(chemicals=[Chemical(smiles='COC(=O)OC',name='DMC',reference='DMC_Elyte_2020'),\n                              Chemical(smiles='[Li+].F[P-](F)(F)(F)(F)F',name='LiPF6',reference='LiPF6_Elyte_2020')],\n                   amounts=[Amount(value=0.5,unit='mol'),Amount(value=0.1,unit='mol')],\n                   name='LiPF6_salt_in_DMC_5:1')",
      "type": "object",
      "properties": {
        "chemicals": {
          "title": "Chemicals",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Chemical"
          }
        },
        "amounts": {
          "title": "Amounts",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Amount"
          }
        },
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "chemicals",
        "amounts",
        "name"
      ]
    }
  }
}